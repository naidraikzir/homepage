<template lang="pug">
router-view
</template>

<script>
import { mapActions } from 'vuex'

export default {
	name: 'App',

	mounted () {
		this.checkSession()
	},

	methods: {
		checkSession () {
			this.$http.get('/auth-state').then(res => {
				this.setAuthState(res.data === '1' ? true : false)
			}, err => console.log(err))
		},
		...mapActions(['setAuthState'])
	}
}
</script>
